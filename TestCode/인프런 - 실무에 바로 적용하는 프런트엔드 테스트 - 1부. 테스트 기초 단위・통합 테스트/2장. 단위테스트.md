# 2장. 단위테스트

### 단위 테스트 : 가장 작은 소프트웨어의 동작을 확인하는 테스트

- 가장 작은 소프트웨어 : 단일 함수 /클래스 /컴포넌트
- 예상 동작 : 결과값 또는 UI



### 테스트 작성 패턴

- AAA
  - Arange : 테스트환경 작성 (렌더링 등)
  - Act : 테스트 동작 (클릭 등)
  - Assert : 동작 및 변경사항 확인 (검증)
- When-then-given



### 테스트 프레임 워크

- 태스크 러너, 어설션 라이브러리, 플러그인 등 테스트 실행 및 검증에 필요한 환경을 제공하는 도구

ex). vitest



### react -testing -library

- 역할

  - react의 특정 컴포넌트를 렌더링 / 리렌더링 할 수 있는 기능을 제공

  - 내부 DOM 구조나 로직에 영향받지 않는 독립적인 메서드를 제공

- 용어

  - query : 사용자가 요소를 탐색할 수 있게 도와주는 메서드. 독립적인 테스트가 가능하도록 도와줌 (Queries are the methods that Testing Library gives you to find elements on the page)

  - expect : 결과를 확인하는 함수
    - expect 검증 시, className , props, state는 상황에 따라 변동될 수 있으므로 이를 통해서 검증하는 것은 권장하지 않음
    - expect 검증 시, DOM 구조가 올바르게 변경되었는 지 확인해야함 : 실제 사용자가 보는 화면을 검증할 수 있게 됨.



### JSDOM

- 테스트는 node.js 환경에서 실행되나, node.js는 dom이 존재하지 않음
- JSDom = 순수 Js에서 Dom을 사용할 수 있도록 구현한 module
- 실제 UI를 확인할 수는 없으나, screen.debug() 함수를 이용하여 Dom 구조를 확인할 수 있음



### 문법

- it : 최종 결과를 확인하는 함수 (테스트의 단위)
- describe : 테스트 함수를 그룹핑하여 구분할 수 있음
- expect : 테스트 결과를 표현하는 함수
- match : 기대 결과를 검증하기 위한 일종의 api 집합
  - matcher는 확장이 가능함 : vitest는 dom에 대한 검증 API를 제공하지 않기 때문에 jest-dom을 불러와서 확장하여서 사용함